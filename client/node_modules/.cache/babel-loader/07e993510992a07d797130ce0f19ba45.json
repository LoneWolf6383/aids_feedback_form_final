{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Administrator/Documents/FeedBack Form Website/aids_feedback_form_final/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Administrator/Documents/FeedBack Form Website/aids_feedback_form_final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Administrator\\\\Documents\\\\FeedBack Form Website\\\\aids_feedback_form_final\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{Button}from'react-bootstrap';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SubmitReview=function SubmitReview(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];function handleSubmit(){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var val,data,_yield$axios$post,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;val={username:window.sessionStorage.getItem('username'),review:props.ratings};// console.log(val);\ndata=[];_context.next=5;return axios.post('feedback/review',val);case 5:_yield$axios$post=_context.sent;res=_yield$axios$post.data;console.log(1,res);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);if(_context.t0.response&&_context.t0.response.status>=400&&_context.t0.response.status<=500){setError(_context.t0.response.data.message);}case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn btn-primary\",onClick:function onClick(){handleSubmit();},style:{position:\"relative\"},children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]});};","map":{"version":3,"names":["React","useState","Button","axios","SubmitReview","props","error","setError","handleSubmit","val","username","window","sessionStorage","getItem","review","ratings","data","post","res","console","log","response","status","message","position"],"sources":["C:/Users/Administrator/Documents/FeedBack Form Website/aids_feedback_form_final/client/src/components/submitReview.jsx"],"sourcesContent":["import React,{useState} from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport axios from 'axios'\r\n\r\nexport const SubmitReview = (props) => {\r\n    const [error, setError] = useState('')\r\n    async function handleSubmit(){\r\n        try {\r\n            const val = {\r\n                username: window.sessionStorage.getItem('username'),\r\n                review:props.ratings        \r\n            }\r\n            // console.log(val);\r\n            const data = []\r\n            const { data: res } = await axios.post('feedback/review', val)\r\n            console.log(1,res);\r\n            } catch (error) {\r\n                if (error.response && error.response.status >= 400 && error.response.status <= 500) {\r\n                    setError(error.response.data.message)\r\n                }\r\n           }\r\n        }\r\n        return (\r\n            <div>\r\n                <Button\r\n                type=\"submit\"\r\n                className='btn btn-primary'\r\n                onClick={()=>{handleSubmit()}}\r\n                style={{\r\n                    position: \"relative\",\r\n                }}>Submit</Button>     \r\n                <p>{error}</p>\r\n            </div>\r\n  )\r\n}\r\n"],"mappings":"khBAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CACnC,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eADmC,QAEpBC,CAAAA,YAFoB,8IAEnC,sLAEcC,GAFd,CAEoB,CACRC,QAAQ,CAAEC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CADF,CAERC,MAAM,CAACT,KAAK,CAACU,OAFL,CAFpB,CAMQ;AACMC,IAPd,CAOqB,EAPrB,uBAQoCb,CAAAA,KAAK,CAACc,IAAN,CAAW,iBAAX,CAA8BR,GAA9B,CARpC,wCAQsBS,GARtB,mBAQgBF,IARhB,CASQG,OAAO,CAACC,GAAR,CAAY,CAAZ,CAAcF,GAAd,EATR,iFAWY,GAAI,YAAMG,QAAN,EAAkB,YAAMA,QAAN,CAAeC,MAAf,EAAyB,GAA3C,EAAkD,YAAMD,QAAN,CAAeC,MAAf,EAAyB,GAA/E,CAAoF,CAChFf,QAAQ,CAAC,YAAMc,QAAN,CAAeL,IAAf,CAAoBO,OAArB,CAAR,CACH,CAbb,qEAFmC,+CAkB/B,mBACI,oCACI,KAAC,MAAD,EACA,IAAI,CAAC,QADL,CAEA,SAAS,CAAC,iBAFV,CAGA,OAAO,CAAE,kBAAI,CAACf,YAAY,GAAG,CAH7B,CAIA,KAAK,CAAE,CACHgB,QAAQ,CAAE,UADP,CAJP,oBADJ,cAQI,mBAAIlB,KAAJ,EARJ,GADJ,CAYP,CA9BM"},"metadata":{},"sourceType":"module"}