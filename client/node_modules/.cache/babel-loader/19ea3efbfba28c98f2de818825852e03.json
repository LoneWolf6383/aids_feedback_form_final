{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\namas\\\\OneDrive\\\\Documents\\\\GitHub\\\\aids_feedback_form_final\\\\client\\\\src\\\\components\\\\starRating.jsx\",\n    _s = $RefreshSig$();\n\nimport StarRatings from \"react-star-ratings\";\nimport React, { useState } from 'react';\nimport _ from 'lodash';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport DoneAllIcon from '@mui/icons-material/DoneAll';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ratings = {};\n\nconst StarRating = props => {\n  _s();\n\n  const [done, setDone] = useState(false);\n  const [rate, setRate] = useState(0);\n  const [reviewed, setReviewed] = useState(false);\n  const name = props.label.split('+')[0];\n\n  async function handleSubmit(ratings) {\n    try {\n      const val = {\n        username: window.sessionStorage.getItem('username'),\n        review: ratings\n      };\n      console.log(val);\n      await axios.post('feedback/review', val);\n      setDone(true);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const handleRating = (newRating, name) => {\n    name = name.split('+');\n\n    _.set(ratings, [name[0], name[1]], newRating);\n\n    console.log(newRating);\n    setRate(newRating);\n    handleSubmit(ratings);\n  };\n\n  async function isReviewed(courseName) {\n    try {\n      var data = {\n        'username': window.sessionStorage.getItem('username'),\n        'courseName': courseName\n      };\n      const {\n        data: res\n      } = await axios.post('isReviewed', data);\n      console.log(typeof res, res);\n      setReviewed(res ? true : false);\n      console.log(reviewed);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  console.log(name);\n  isReviewed(name);\n  if (reviewed) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [console.log(reviewed + 'reviewed'), /*#__PURE__*/_jsxDEV(StarRatings, {\n      rating: rate,\n      numberOfStars: 5,\n      starDimension: 30,\n      starSpacing: 0,\n      starRatedColor: 'rgb(253, 236, 1)',\n      starEmptyColor: 'rgb(109, 122, 130)',\n      starHoverColor: 'rgb(253, 1, 1)',\n      name: props.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), done ? /*#__PURE__*/_jsxDEV(DoneAllIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 7\n  }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [console.log(reviewed + 'Not reviewed'), /*#__PURE__*/_jsxDEV(StarRatings, {\n      rating: rate,\n      numberOfStars: 5,\n      changeRating: handleRating,\n      starDimension: 30,\n      starSpacing: 0,\n      starRatedColor: 'rgb(253, 236, 1)',\n      starEmptyColor: 'rgb(109, 122, 130)',\n      starHoverColor: 'rgb(253, 1, 1)',\n      name: props.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), done ? /*#__PURE__*/_jsxDEV(DoneAllIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 7\n  }, this);\n};\n\n_s(StarRating, \"Rzf7ivhTIDD+zC8MfcbVM1rUiuU=\");\n\n_c = StarRating;\nexport { StarRating };\n\nvar _c;\n\n$RefreshReg$(_c, \"StarRating\");","map":{"version":3,"names":["StarRatings","React","useState","_","CancelIcon","DoneAllIcon","axios","ratings","StarRating","props","done","setDone","rate","setRate","reviewed","setReviewed","name","label","split","handleSubmit","val","username","window","sessionStorage","getItem","review","console","log","post","error","handleRating","newRating","set","isReviewed","courseName","data","res"],"sources":["C:/Users/namas/OneDrive/Documents/GitHub/aids_feedback_form_final/client/src/components/starRating.jsx"],"sourcesContent":["import StarRatings from \"react-star-ratings\";\r\nimport React,{useState} from 'react'\r\nimport _ from 'lodash' \r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport DoneAllIcon from '@mui/icons-material/DoneAll';\r\nimport axios from \"axios\";\r\nvar ratings={}\r\nconst StarRating = (props) => {\r\n  const [done, setDone] = useState(false)\r\n  const [rate, setRate] = useState(0)\r\n  const [reviewed, setReviewed] = useState(false)\r\n  const name = props.label.split('+')[0 ]\r\n  async function handleSubmit(ratings){\r\n    try {\r\n        const val = {\r\n            username: window.sessionStorage.getItem('username'),\r\n            review:ratings\r\n      }\r\n      console.log(val)\r\n        await axios.post('feedback/review', val)\r\n        setDone(true)\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n  }\r\n  const handleRating =  (newRating, name) => {\r\n    name = name.split('+')\r\n    _.set(ratings, [name[0], name[1]], newRating)\r\n    console.log(newRating)\r\n    setRate(newRating)\r\n    handleSubmit(ratings)\r\n  }\r\n  async function isReviewed(courseName) {\r\n    try {\r\n        var data = { 'username':window.sessionStorage.getItem('username'),'courseName': courseName }\r\n        const { data: res } = await axios.post('isReviewed', data)\r\n        console.log(typeof(res),res)\r\n        setReviewed(res ? true : false)\r\n        console.log(reviewed)\r\n    } catch (error) {\r\n      console.log(error)  \r\n    }\r\n  }\r\n  console.log(name)\r\n  isReviewed(name)\r\n  if(reviewed)\r\n    return (\r\n      <div>\r\n        {console.log(reviewed+'reviewed')}\r\n        <StarRatings\r\n          rating={rate}\r\n          numberOfStars={5}\r\n          starDimension={30}\r\n          starSpacing={0}\r\n          starRatedColor={'rgb(253, 236, 1)'}\r\n          starEmptyColor={'rgb(109, 122, 130)'}\r\n          starHoverColor={'rgb(253, 1, 1)'}\r\n          name={props.label}\r\n          />\r\n        {done?<DoneAllIcon/>:<CancelIcon/>}\r\n      </div>\r\n    )\r\n    else\r\n    return (\r\n      <div>\r\n        {console.log(reviewed+'Not reviewed')}\r\n        <StarRatings\r\n          rating={rate}\r\n          numberOfStars={5}\r\n          changeRating={handleRating}\r\n          starDimension={30}\r\n          starSpacing={0}\r\n          starRatedColor={'rgb(253, 236, 1)'}\r\n          starEmptyColor={'rgb(109, 122, 130)'}\r\n          starHoverColor={'rgb(253, 1, 1)'}\r\n          name={props.label}\r\n        />\r\n        {done?<DoneAllIcon/>:<CancelIcon/>}\r\n      </div>\r\n    )\r\n}\r\nexport {StarRating}"],"mappings":"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"},"metadata":{},"sourceType":"module"}