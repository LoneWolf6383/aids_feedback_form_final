{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Administrator/Documents/FeedBack Form Website/aids_feedback_form_final/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Administrator/Documents/FeedBack Form Website/aids_feedback_form_final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Administrator\\\\Documents\\\\FeedBack Form Website\\\\aids_feedback_form_final\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";/* eslint-disable no-unused-vars */import axios from'axios';import React,{useState,useEffect,useCallback}from'react';import EmojiRating from'react-emoji-rating';import{SubmitReview}from'./submitReview';import{StarRating}from'./starRating';import{Tab}from'@mui/material';import{TabList,TabContext,TabPanel}from'@mui/lab';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DynTabs=function DynTabs(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),ratings=_useState2[0],setRatings=_useState2[1];var _useState3=useState('0'),_useState4=_slicedToArray(_useState3,2),selectedTab=_useState4[0],setSelectedTab=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tabs=_useState6[0],setTabs=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),panels=_useState8[0],setPanels=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),tabIndex=_useState10[0],setTabIndex=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),content=_useState12[0],setContent=_useState12[1];var generateTabs=useCallback(function(){var tabs_array=[];var panels_array=[];var _loop=function _loop(key){tabs_array.push({value:\"\".concat(key),label:content[key][0]});panels_array.push({value:\"\".concat(key),child:function child(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"table\",{style:{flex:'1'},children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Feed Back Section\"}),/*#__PURE__*/_jsx(\"br\",{})]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"p\",{style:{flex:'1'},children:\"Opinion On this course\"}),/*#__PURE__*/_jsx(\"div\",{style:{flex:'1',textAlign:'right'},children:/*#__PURE__*/_jsx(\"textarea\",{id:content[key][0],cols:\"30\",rows:\"3\"})})]})})}),/*#__PURE__*/_jsx(\"tr\",{style:{listStyle:\"none\"},children:content[key][1].map(function(q){return/*#__PURE__*/_jsxs(\"tr\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"td\",{style:{flex:'1'},children:/*#__PURE__*/_jsx(\"li\",{children:q})}),/*#__PURE__*/_jsx(\"td\",{style:{flex:'1'},children:/*#__PURE__*/_jsx(StarRating,{label:content[key][0]+\"+\"+q,onChange:function onChange(val){setRatings(val);}})})]});})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1',textAlign:'center',position:'relative',top:'50%',zoom:'150%'},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h6\",{children:\"Overall Feed Back\"}),/*#__PURE__*/_jsx(EmojiRating,{variant:\"classic\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(SubmitReview,{data:'',ratings:ratings})]})]});}});setTabIndex(key+1);};for(var key in content){_loop(key);}setTabs(tabs_array);setPanels(panels_array);},[content,ratings]);useEffect(function(){generateTabs();},[generateTabs]);useEffect(function(){var getContent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,_yield$axios$post,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=[];_context.next=3;return axios.post('getFeedbackPattern');case 3:_yield$axios$post=_context.sent;res=_yield$axios$post.data;setContent(res);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getContent(){return _ref.apply(this,arguments);};}();getContent();},[]);var handleChange=function handleChange(event,newValue){console.log(newValue);setSelectedTab(newValue);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(TabContext,{value:selectedTab,children:[/*#__PURE__*/_jsx(TabList,{onChange:handleChange,children:tabs.map(function(tab){return/*#__PURE__*/_jsx(Tab,{label:tab.label,value:tab.value},tab.value);})}),panels.map(function(panel){return/*#__PURE__*/_jsx(TabPanel,{value:panel.value,children:panel.child()},panel.value);})]})});};","map":{"version":3,"names":["axios","React","useState","useEffect","useCallback","EmojiRating","SubmitReview","StarRating","Tab","TabList","TabContext","TabPanel","DynTabs","ratings","setRatings","selectedTab","setSelectedTab","tabs","setTabs","panels","setPanels","tabIndex","setTabIndex","content","setContent","generateTabs","tabs_array","panels_array","key","push","value","label","child","display","flex","textAlign","listStyle","map","q","val","position","top","zoom","getContent","data","post","res","handleChange","event","newValue","console","log","tab","panel"],"sources":["C:/Users/Administrator/Documents/FeedBack Form Website/aids_feedback_form_final/client/src/components/dynTabs.jsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport axios from 'axios'\r\nimport React, { useState, useEffect ,useCallback} from 'react'\r\nimport EmojiRating from 'react-emoji-rating'\r\nimport { SubmitReview } from './submitReview'\r\nimport { StarRating } from './starRating'\r\nimport {Tab} from '@mui/material'\r\nimport {TabList,TabContext,TabPanel} from '@mui/lab'\r\nexport const DynTabs = () => {\r\n  const [ratings, setRatings] = useState({})\r\n  const [selectedTab, setSelectedTab] = useState('0')\r\n  const [tabs, setTabs] = useState([])\r\n  const [panels, setPanels] = useState([])\r\n  const [tabIndex, setTabIndex] = useState(1)\r\n  const [content, setContent] = useState([])\r\n  const generateTabs = useCallback(() => {\r\n    var tabs_array = []\r\n    var panels_array = []\r\n    for (const key in content) {\r\n      tabs_array.push({\r\n        value: `${key}`,\r\n        label: content[key][0], \r\n      })\r\n      panels_array.push({\r\n        value: `${key}`,\r\n        child: () => <div style={{ display: 'flex'}}>\r\n          <table style={{ flex: '1'}}>\r\n            <tr>\r\n              <td><h4>Feed Back Section</h4><br /></td> \r\n            </tr>\r\n            <tr>   \r\n              <td>\r\n                <div style={{ display: 'flex' }}> \r\n                  <p style={{ flex: '1' }}>Opinion On this course</p>\r\n                  <div   style={{ flex: '1' ,textAlign:'right'}}><textarea id={content[key][0]} cols=\"30\" rows=\"3\"></textarea></div>\r\n                </div>\r\n              </td>\r\n            </tr> \r\n            <tr style={{ listStyle: \"none\" }}>\r\n              {content[key][1].map((q) =>\r\n                <tr style={{ display: 'flex' }}>\r\n                <td style={{ flex: '1' }}><li>{q}</li></td>\r\n                <td style={{ flex: '1' }}>\r\n                    <StarRating label={content[key][0] + \"+\" + q} onChange={ (val) =>{ setRatings(val)}} />\r\n                </td>\r\n                </tr> \r\n              )}\r\n            </tr>\r\n          </table>\r\n          <div style={{\r\n            flex: '1',\r\n            textAlign: 'center',   \r\n            position: 'relative',  \r\n            top: '50%',\r\n            zoom: '150%'\r\n          }}>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <h6>Overall Feed Back</h6>\r\n            <EmojiRating variant='classic' />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <SubmitReview data={''} ratings={ratings} />\r\n          </div>\r\n        </div>\r\n      })\r\n      setTabIndex(key + 1)\r\n    }\r\n    setTabs(tabs_array)\r\n    setPanels(panels_array)\r\n},[content,ratings])\r\n\r\n  useEffect(() => {\r\n    generateTabs()\r\n  }, [generateTabs])\r\n  useEffect(() => {\r\n    const getContent = async () => { \r\n      var data = []\r\n      const { data: res } = await axios.post('getFeedbackPattern')\r\n      setContent(res)\r\n    }\r\n    getContent()\r\n  }, [])\r\n  \r\n    \r\n  const handleChange = (event, newValue) => {\r\n    console.log(newValue);\r\n    setSelectedTab(newValue)\r\n  }\r\n    \r\n  return (\r\n    <div>\r\n      <TabContext value={selectedTab}>\r\n        <TabList onChange={handleChange}>\r\n          {\r\n            tabs.map(tab => (<Tab key={tab.value} label={tab.label} value={tab.value} />))\r\n          }\r\n        </TabList>\r\n        {\r\n          panels.map(panel => (\r\n            <TabPanel key={panel.value} value={panel.value}>\r\n               {panel.child()}   \r\n            </TabPanel>\r\n          ))\r\n        }\r\n      </TabContext>\r\n      \r\n    </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}